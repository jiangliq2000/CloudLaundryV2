webpackJsonp([0],{725:function(e,o,n){n(733),n(734);var a=n(21)(n(727),n(738),"data-v-191059a6",null);e.exports=a.exports},727:function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=n(266),t=n.n(a),r=n(62);o.default={data:function(){return{loading:!1,account:{username:"",password:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},methods:{handleLogin:function(){var e=this,o=this;this.$refs.AccountFrom.validate(function(n){if(n){e.loading=!0;var a={username:e.account.username,password:e.account.password};r.a.login(a).then(function(e){if(o.loading=!1,e&&e.access_token){sessionStorage.setItem("access-user",t()(a.username)),sessionStorage.setItem("token",e.access_token);var n=JSON.parse(window.sessionStorage.getItem("access-user"));r.a.getPrivilege(n).then(function(e){e&&0==e.errcode&&(console.log("get privilege"),console.log(e.privilege),sessionStorage.setItem("privilege",e.privilege),o.$router.push({path:"/auth/dashboard"}))},function(e){console.log("cannot get user privilege"),console.log(e)}).catch(function(e){console.log("cannot get user privilege"),console.log(e)})}else o.$message.error({showClose:!0,message:e.errmsg||"登录失败",duration:2e3})},function(e){o.loading=!1;var n=e.toLocaleString(),a="";console.log(n),a=n.indexOf("401")>=0?"用户名和密码不对，请重试":n.indexOf("Network")>=0?"网络连接异常，请检查网络或稍后再试":n,o.$message({message:a,type:"error",duration:5500})}).catch(function(e){o.loading=!1,console.log(e),o.$message.error({showClose:!0,message:"请求出现异常",duration:2e3})})}})}}}},729:function(e,o,n){o=e.exports=n(723)(),o.push([e.i,"body{background:#dfe9fb}","",{version:3,sources:["/home/code/LaundryVue_v2/src/components/Login.vue"],names:[],mappings:"AACA,KACE,kBAAoB,CACrB",file:"Login.vue",sourcesContent:["\nbody {\n  background: #DFE9FB;\n}\n"],sourceRoot:""}])},730:function(e,o,n){o=e.exports=n(723)(),o.push([e.i,".login-container[data-v-191059a6]{border-radius:5px;-moz-border-radius:5px;background-clip:padding-box;margin:160px auto;width:350px;padding:35px 35px 15px;background:#fff;border:1px solid #eaeaea;box-shadow:0 0 25px #cac6c6;background:-o-linear-gradient(top,#ace,#00c1de)}.login-container .title[data-v-191059a6]{margin:0 auto 40px;text-align:center;color:#505458}.login-container .remember[data-v-191059a6]{margin:0 0 35px}","",{version:3,sources:["/home/code/LaundryVue_v2/src/components/Login.vue"],names:[],mappings:"AAEA,kCAEE,kBAAmB,AACnB,uBAAwB,AACxB,4BAA6B,AAC7B,kBAAmB,AACnB,YAAa,AACb,uBAA6B,AAC7B,gBAAiB,AACjB,yBAA0B,AAC1B,4BAA6B,AAK7B,+CAAmD,CAEpD,AACD,yCACI,mBAA2B,AAC3B,kBAAmB,AACnB,aAAe,CAClB,AACD,4CACI,eAAyB,CAC5B",file:"Login.vue",sourcesContent:['\n@charset "UTF-8";\n.login-container[data-v-191059a6] {\n  /*box-shadow: 0 0px 8px 0 rgba(0, 0, 0, 0.06), 0 1px 0px 0 rgba(0, 0, 0, 0.02);*/\n  border-radius: 5px;\n  -moz-border-radius: 5px;\n  background-clip: padding-box;\n  margin: 160px auto;\n  width: 350px;\n  padding: 35px 35px 15px 35px;\n  background: #fff;\n  border: 1px solid #eaeaea;\n  box-shadow: 0 0 25px #cac6c6;\n  /* IE 10 */\n  /*火狐*/\n  /*谷歌*/\n  /*Safari5.1 Chrome 10+*/\n  background: -o-linear-gradient(top, #ace, #00C1DE);\n  /*Opera 11.10+*/\n}\n.login-container .title[data-v-191059a6] {\n    margin: 0px auto 40px auto;\n    text-align: center;\n    color: #505458;\n}\n.login-container .remember[data-v-191059a6] {\n    margin: 0px 0px 35px 0px;\n}\n'],sourceRoot:""}])},733:function(e,o,n){var a=n(729);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(724)("e2b9c510",a,!0)},734:function(e,o,n){var a=n(730);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(724)("0c4b7d7a",a,!0)},737:function(e,o,n){e.exports=n.p+"static/img/heist.bb3888d.png"},738:function(e,o,n){e.exports={render:function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("el-form",{ref:"AccountFrom",staticClass:"demo-ruleForm login-container",attrs:{model:e.account,rules:e.rules,"label-position":"left","label-width":"0px"}},[a("a",{attrs:{href:"/adminlogin"}},[a("img",{attrs:{src:n(737)}})]),e._v(" "),a("h3",{staticClass:"title"},[e._v("Laundry查询系统登录")]),e._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.account.username,callback:function(o){e.$set(e.account,"username",o)},expression:"account.username"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.account.password,callback:function(o){e.$set(e.account,"password",o)},expression:"account.password"}})],1),e._v(" "),a("el-checkbox",{staticClass:"remember",attrs:{checked:""},model:{value:e.checked,callback:function(o){e.checked=o},expression:"checked"}},[e._v("记住密码")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(o){return o.preventDefault(),e.handleLogin(o)}}},[e._v("登录")])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=0.d4e9a364a98c8383ccd2.js.map